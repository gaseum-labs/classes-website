<script lang="ts">
	import { onMount } from 'svelte';

	interface Section {
		path: SVGPathElement;
		t: number;
		speed: number;
	}

	let sections: Section[] = [];

	onMount(() => {
		const paths = document
			.querySelector('svg')
			.querySelectorAll('path:not(#border)') as NodeListOf<SVGPathElement>;
		let x = 0;
		let y = 0;
		paths.forEach((path) => {
			sections.push({
				path,
				t: (x + y) * 100,
				speed: 0.03,
			});
			x += 1;
			if (x > 2 || (y === 0 && x > 1)) {
				x = 0;
				y += 1;
			}
		});
		effect();
	});

	function effect() {
		requestAnimationFrame(effect);
		sections.forEach((section) => {
			section.t += section.speed;
			section.path.style.fill = `rgb(
        ${(0xff * (Math.sin(section.t) + 2)) / 3},
        ${(0x25 * (Math.sin(section.t) + 2)) / 3},
        ${(0x9b * (Math.sin(section.t) + 2)) / 3}
      )`;
		});
	}
</script>

<div class="flex">
	<svg viewBox="0 0 88.919678 88.917">
		<g transform="translate(-201.50685,-183.6402)">
			<path
				style="fill:#fd249a;stroke-width:0.264583"
				d="m 218.26809,191.46291 c -10.05672,0 -10.38784,0.0159 -11.09648,0.54519 -0.40173,0.30003 -0.97586,0.87425 -1.27589,1.27589 -0.52575,0.70379 -0.54825,1.10332 -0.62322,11.02982 l -0.078,10.30014 h 11.78843 11.78843 l -0.0687,-11.57552 -0.0692,-11.57552 z"
				id="path2177"
			/>
			<path
				style="fill:#fd249a;stroke-width:0.264583"
				d="m 242.46093,187.39449 c -4.62871,-5.3e-4 -4.87134,0.11208 -5.74642,0.55914 -2.35311,1.20217 -2.25002,0.63271 -2.33474,12.92066 -0.0533,7.73204 0.009,10.8288 0.21601,10.8288 0.15977,0 0.5503,-0.14883 0.86816,-0.33073 0.42836,-0.24515 3.62458,-0.36492 12.3517,-0.46302 l 11.77396,-0.13229 v -11.64167 -11.64167 l -10.85205,-0.0692 c -2.70345,-0.0172 -4.73371,-0.0298 -6.27662,-0.03 z"
				id="path2174"
			/>
			<path
				style="fill:#fd249a;stroke-width:0.264583"
				d="m 205.35002,218.45041 -0.0687,11.37708 c -0.038,6.25739 -0.0115,11.52697 0.0589,11.7104 0.10081,0.26259 2.58576,0.31888 11.71039,0.26458 l 11.58276,-0.0687 V 230.09167 218.45 H 216.9917 Z"
				id="path2186"
			/>
			<path
				style="fill:#fd249a;stroke-width:0.264583"
				d="m 248.59441,214.61395 c -12.32196,0 -12.34969,0.003 -13.55008,1.6862 -0.5853,0.82054 -0.59034,0.91947 -0.66405,12.13828 l -0.0744,11.31094 h 11.14661 c 12.45153,0 12.40575,0.006 13.53768,-1.81436 0.59477,-0.95645 0.60008,-1.05161 0.67644,-12.14241 l 0.077,-11.17865 z"
				id="path2180"
			/>
			<path
				style="fill:#fd249a;stroke-width:0.264583"
				d="m 263.42606,214.61395 -0.008,11.17865 c -0.008,10.09496 -0.0555,11.3133 -0.48886,12.5677 l -0.47955,1.38907 h 10.76782 c 10.75454,0 10.76973,-5.3e-4 11.6675,-0.60048 1.83115,-1.22326 1.82365,-1.17224 1.82418,-13.48859 l 5.3e-4,-11.04635 h -11.64167 z"
				id="path2183"
			/>
			<path
				style="fill:#fd249a;stroke-width:0.264583"
				d="m 205.21772,245.5702 v 11.64167 11.64166 h 11.77396 11.77396 v -11.64207 -11.64167 h -11.77396 z"
				id="path2189"
			/>
			<path
				style="fill:#fd249a;stroke-width:0.264583"
				d="m 232.46981,245.5702 v 11.64167 11.64166 h 11.64167 11.64166 v -11.64207 -11.64167 h -11.64166 z"
				id="path2192"
			/>
			<path
				style="fill:#fd249a;stroke-width:0.264583"
				d="m 259.45731,245.5702 v 11.64167 11.64166 l 10.12031,-5.3e-4 c 11.2864,-5.3e-4 11.35007,-0.01 12.56254,-1.82469 0.59869,-0.89614 0.60048,-0.93199 0.60048,-11.17865 v -10.27947 h -11.64166 z"
				id="path2195"
			/>
			<path
				id="border"
				style="fill:#1e1e1e;stroke-width:0.264583"
				d="m 263.42606,183.6402 -14.61823,0.0744 -14.61823,0.0749 -1.42937,0.79168 c -0.78617,0.43538 -1.85296,1.29859 -2.37092,1.91823 l -0.94154,1.12654 h -10.82776 c -7.2815,0 -11.15372,0.0977 -11.8246,0.29869 -1.54469,0.4628 -3.41641,2.04951 -4.32946,3.67006 l -0.8201,1.45521 -0.0692,39.75365 -0.0698,39.75364 h 39.46219 c 28.56191,0 39.73699,-0.0829 40.45903,-0.2992 1.67842,-0.50287 3.46509,-2.05911 4.35064,-3.78995 l 0.7984,-1.56063 0.0775,-11.0939 0.077,-11.09338 1.25471,-1.22886 c 2.42022,-2.37063 2.28535,-1.3403 2.36781,-18.09606 l 0.0724,-14.75052 H 276.92657 263.4261 v -13.50253 z m -20.96513,3.75429 c 1.54291,1.9e-4 3.57317,0.0128 6.27662,0.03 l 10.85205,0.0692 v 11.64167 11.64167 l -11.77396,0.13229 c -8.72712,0.0981 -11.92334,0.21787 -12.3517,0.46302 -0.31786,0.1819 -0.70839,0.33073 -0.86816,0.33073 -0.20744,0 -0.26932,-3.09676 -0.21601,-10.8288 0.0847,-12.28795 -0.0184,-11.71849 2.33474,-12.92066 0.87508,-0.44705 1.11771,-0.55969 5.74642,-0.55914 z m -24.19284,4.06797 h 10.36526 l 0.0692,11.57552 0.0687,11.57552 H 216.9829 205.19447 l 0.078,-10.30014 c 0.075,-9.9265 0.0975,-10.32603 0.62322,-11.02982 0.30003,-0.40164 0.87416,-0.97586 1.27589,-1.27589 0.70864,-0.52922 1.03976,-0.54519 11.09648,-0.54519 z m 30.32632,23.15104 h 11.14919 l -0.077,11.17865 c -0.0764,11.0908 -0.0817,11.18596 -0.67644,12.14241 -0.32972,0.5302 -1.00236,1.15528 -1.495,1.38906 -0.77853,0.36944 -2.35417,0.4253 -12.04268,0.4253 h -11.14661 l 0.0744,-11.31094 c 0.0737,-11.21881 0.0788,-11.31773 0.66404,-12.13827 1.20039,-1.68327 1.22813,-1.68621 13.55009,-1.68621 z m 14.83165,0 h 11.64167 11.64166 v 11.04636 c -5.2e-4,12.31634 0.006,12.26532 -1.82469,13.48858 -0.89789,0.5998 -0.91296,0.60048 -11.6675,0.60048 h -10.76782 l 0.47955,-1.38906 c 0.43335,-1.25441 0.48106,-2.47275 0.48886,-12.56771 z m -58.07604,3.83646 h 11.64166 11.64167 v 11.64167 11.64166 l -11.58276,0.0687 c -9.12463,0.0543 -11.60958,-0.002 -11.71039,-0.26459 -0.0704,-0.18343 -0.0969,-5.453 -0.0589,-11.7104 z m -0.1323,27.11979 h 11.77396 11.77396 v 11.64167 11.64167 h -11.77396 -11.77396 v -11.64167 z m 27.25209,0 h 11.64167 11.64166 v 11.64167 11.64167 h -11.64166 -11.64167 v -11.64167 z m 26.9875,0 h 11.64167 11.64166 v 10.27948 c 0,10.24666 -0.002,10.28251 -0.60048,11.17865 -0.33032,0.49446 -1.01493,1.10723 -1.52135,1.36167 -0.82857,0.41632 -1.9342,0.46275 -11.04119,0.46302 l -10.12031,5.3e-4 v -11.64167 z"
			/>
		</g>
	</svg>
</div>

<style lang="scss">
	.flex {
		background: black;
		display: flex;
		justify-content: center;
		align-items: center;
		height: 100vh;
		padding: 30px;
		box-sizing: border-box;
	}

	svg {
		display: block;
		width: 500px;
		height: 500px;
	}
</style>
